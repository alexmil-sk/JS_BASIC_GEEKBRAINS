<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src = 'randomColor.js' defer></script>
	<title>Events</title>
	<style>
		.red {
			color: red;
		}
		 .green {
			 color: green;
		 }
	</style>
</head>
<body>
	<button id="b1">Кнопка 1</button>
	<button id="b2">Кнопка 2</button>
	<button id="b3">Кнопка 3</button>
	<button onclick = "alert('клик на В4')" id="b4">Кнопка 4</button>
	<button onclick = "document.querySelector('#b4').click()" id="b5">Кнопка 5</button>

	<a href="#">Ссылка 1</a>
	<a href="#">Ссылка 2</a>
	<a href="#">Ссылка 3</a>

	<script>
		var buttons = document.querySelectorAll('button');

		function f(event) {//Если наша функция запускается по событию, то всегда в качестве параметра функции глобальный объект event. Этот объект можно обозначать любыми переменными f(x) и т.п., но чаще всего пишут f(e)
			//console.log(this);//this - это объект на который нажимает пользователь
			//console.log(event);
			switch (event.target) {
				case array[0]:
					document.getElementById("b1").classList.toggle('red');
					break;
				case array[1]:
					for(var i = 0; i < buttons.length; i++) {
						if ( i > 2) {
							buttons[i].remove();
						}
					}
					break;
				case array[2]:
					for (var item of buttons) {
						item.style.color = getColor();//то же самое, что и метод forEach().
					}
					//buttons.forEach(function(item){item.style.color = getColor();});//функция вынесена в отдельный файл
					break;
			}
		}

		var array = document.querySelectorAll('a');
		for (var item of array) {
			item.onclick = f;//если стоит функция f() со скобками то она запускается немедленно и в консоль сразу выводитс ятри объекта window
			//если при функции скобки не ставим, то она не запускается сразу а ждет события, например, onclick, по одной из наших ссылок, которая и отобразится в консоли
		}

		for (var i = 0; i < buttons.length; i++) {
			buttons[i].onclick = function(e) {
				var img = document.createElement('img');
				img.src = 'img' + (e.target.id[1] - 1) + '.jpg'; //id это строка кнопки состоящая из двух символов. Нам нужен нулевой
				document.body.append(img);
			}
		}
		function f1() {
			console.log('Функция f1 была запущена!');
		}
		function f2() {
				console.log('Функция f2 была запущена!');
				buttons[0].removeEventListener('click', f2);
			}

		buttons[0].addEventListener('click', f1);
		buttons[0].addEventListener('click', f2);
	</script>
</body>
</html>